(function($){$.fn.jqroll=function(options){var settings={game_data:[{name:"花亦山心之月","isHot":true,icon:"https://lf3-fe-tos.dailygn.com/obj/g-marketing-act-assets/2021_10_29_16_25_14/265095412910_s176746.png",small_bg:"https://lf3-fe-tos.dailygn.com/obj/g-marketing-act-assets/2021_08_13_14_29_37/628808023217_s62936.jpeg",desc:"《花亦山心之月》是朝夕光年自主研发的高颜值贵族书院养成手游，运用颜彩描金画风，特邀知名声优配音，国风音乐大师配乐，共同呈现古代东方盛世中的名门贵族校园生活。",big_bg:"https://lf3-fe-tos.dailygn.com/obj/g-marketing-act-assets/2021_08_16_12_01_17/1097311130271_s596689.jpg",url:" https://flower.nvsgames.cn/",date:"01/01",},{name:"武林闲侠","isHot":true,icon:"https://lf3-fe-tos.dailygn.com/obj/g-marketing-act-assets/2021_11_17_22_07_33/556343383952_s30189.png",small_bg:"https://lf3-fe-tos.dailygn.com/obj/g-marketing-act-assets/2021_11_17_22_05_01/1486819930198_s115346.png",desc:"《武林闲侠》是由金山世游研发、朝夕光年发行的国风武侠卡牌手游。写意国风，唯美江湖，再创武侠新玩法！百部武学秘籍一点速成，大侠养成全靠挂机，智能战斗解放双手，角色重置资源100%返还，武侠游戏其实不用那么肝！侠路相逢，闲者胜，在《武林闲侠》，轻松一点！",big_bg:"https://lf3-fe-tos.dailygn.com/obj/g-marketing-act-assets/2021_11_17_18_08_22/149381868048_s589756.jpg",url:" https://flower.nvsgames.cn/",date:"01/02",},{name:"航海王热血航线","isHot":true,icon:"https://lf3-fe-tos.dailygn.com/obj/g-marketing-act-assets/2021_04_11_16_45_46/950033980911_s6386.png",small_bg:"https://lf3-fe-tos.dailygn.com/obj/g-marketing-act-assets/2021_04_11_16_48_46/1034034083258_s55299.png",desc:"《航海王热血航线》是一款由中手游与朝夕光年联合出品的全新正版航海王3D格斗手游。通过原著还原的角色剧情及场景、可自由探索的大海域世界、公平无数值的3D-PVP格斗，为玩家打造沉浸式的热血航海世界！",big_bg:"https://lf3-fe-tos.dailygn.com/obj/g-marketing-act-assets/2021_04_12_18_26_48/667534022595_s388539.jpeg",url:" https://flower.nvsgames.cn/",date:"01/03",},{name:"MARVEL SNAP","isHot":false,icon:"https://lf3-fe-tos.dailygn.com/obj/g-marketing-act-assets/2022_10_26_11_09_39/492245025826_s1069673.png",small_bg:"https://lf3-fe-tos.dailygn.com/obj/g-marketing-act-assets/2022_10_26_11_11_21/604985644371_s83821.jpg",desc:"MARVEL SNAP是一款面向手游一代人的全新策略性游戏。这款游戏将漫威的多元宇宙变成一个快节奏、令人肾上腺素激增的战略性卡牌对战游戏。你可以从海量的漫威英雄及反派中集结你的梦之队，收集数不清的风格化卡背，并在短短三分钟内体验一局超能力战斗。",big_bg:"https://lf3-fe-tos.dailygn.com/obj/g-marketing-act-assets/2022_10_26_11_11_39/374424538841_s876541.jpg",url:" https://flower.nvsgames.cn/",date:"01/04",},{name:"代号：Spark","isHot":false,icon:"https://lf3-fe-tos.dailygn.com/obj/g-marketing-act-assets/2022_03_24_18_26_28/1301496662255.PNG",small_bg:"https://lf3-fe-tos.dailygn.com/obj/g-marketing-act-assets/2022_03_24_18_27_11/215283148645.JPEG",desc:"守护火种，延续文明！《代号：Spark》是由炎龙游戏研发、朝夕光年发行的一款大单局无限制生存竞技手游，游戏现已开启全渠道预约。玩家需要采集资源、建造领地、制造武器并持续探索地图，收集生存下去的希望——火种。",big_bg:"https://lf3-fe-tos.dailygn.com/obj/g-marketing-act-assets/2022_03_24_18_28_01/1483509480716_s635238.jpg",url:" https://flower.nvsgames.cn/",date:"01/05",},{name:"热血街篮","isHot":false,icon:"https://lf3-fe-tos.dailygn.com/obj/g-marketing-act-assets/2021_02_01_17_04_26/460264920466.png",small_bg:"https://lf3-fe-tos.dailygn.com/obj/g-marketing-act-assets/2021_02_05_18_09_27/947431901934.png",desc:"《热血街篮》是朝夕光年代理发行的自由竞技街篮手游，主打3V3竞技和赛事玩法。次世代3D卡通画风，真实的动作捕捉打造开放的街篮世界。时装搭配，技能组合，训练养成，自由连招，秀出你的专属Style！",big_bg:"https://lf3-fe-tos.dailygn.com/obj/g-marketing-act-assets/2021_02_05_18_09_09/406872337810.png",url:" https://flower.nvsgames.cn/",date:"01/06",},]};if(options){$.extend(settings,options)}const DEFAULT_GD=['Wybing',false,'https://lf3-fe-tos.dailygn.com/obj/g-marketing-act-assets/2021_01_29_15_39_44/513567209194.png','https://lf3-fe-tos.dailygn.com/obj/g-marketing-act-assets/2021_01_29_17_46_09/1473353243713.png','https://lf3-fe-tos.dailygn.com/obj/g-marketing-act-assets/2021_02_01_16_02_18/1016563833498.jpeg','该代码由Wybing创建，请保留版权！','http://wybing.com','01/01'];for(let e=0;e<settings.game_data.length;e++){let data=settings.game_data[e];if(!data.name){data.name=DEFAULT_GD[0]}if(!data.icon){data.icon=DEFAULT_GD[2]}if(!data.small_bg){data.small_bg=DEFAULT_GD[3]}if(!data.big_bg){data.big_bg=DEFAULT_GD[4]}if(!data.desc){data.desc=DEFAULT_GD[5]}if(!data.url){data.url=DEFAULT_GD[6]}if(!data.date){data.date=DEFAULT_GD[7]}}var aabbabbabba=true;var aabbaababba=0;var aabbabbbabba=settings.game_data.length;var aabbabagbab=aabbabbbabba*(aabbabbbabba/2);var aabbabahbab=0;let str_main=`<div class="stage stage1"><div class="bg_list"></div><div class="card_list"></div><div class="line_mc"><div class="number_txt"></div><div class="line"><div class="current_line"style="width: 16.6667%"></div></div><div class="left_button"></div><div class="right_button"></div></div></div>`;$('#main').append(str_main);for(let e=0;e<aabbabbbabba;e++){let s=`data-id="${e}"><img class="bg"src="${settings.game_data[e].big_bg}"></img><div class="mask"></div><div class="word_mc"><div class="desc_mc"><div class="name_txt">${settings.game_data[e].name}</div><div class="desc_txt">${settings.game_data[e].desc}</div></div><div class="link_button"data-href="${settings.game_data[e].url}"></div></div></div>`;if(e==0){let str='<div class="old_bg current" ';s=str.concat(s);$('.bg_list').append(s)}else if(e==aabbabbbabba-1){let str='<div class="old_bg out" ';s=str.concat(s);$('.bg_list').append(s)}else{let str='<div class="old_bg" ';s=str.concat(s);$('.bg_list').append(s)}}for(let e=0;e<=aabbabagbab;e++){if(parseInt(e)!=aabbabagbab){var s=`<div class="card out"style="-webkit-transform: translate3d(0rem,0rem,0rem) scale(1.5); opacity: 0; "data-id="${aabbabahbab}"><img class="card_bg"src="${settings.game_data[aabbabahbab%aabbabbbabba].small_bg}"><img class="logo"src="${settings.game_data[aabbabahbab%aabbabbbabba].icon}">`;if(settings.game_data[aabbabahbab%aabbabbbabba].isHot){s=s.concat('<div class="hot"></div></div>')}else{s=s.concat('</div>')}$('.card_list').append(s)}else{var s=`<div class="card out"style="transform: translate3d(${2 * -(aabbabagbab)}rem, 0rem, 0rem) scale(1.5); opacity: 0; z-index: 1;"data-id="${aabbabahbab}"><img class="card_bg"src="${settings.game_data[aabbabahbab%aabbabbbabba].small_bg}"><img class="logo"src="${settings.game_data[aabbabahbab%aabbabbbabba].icon}">`;if(settings.game_data[aabbabahbab%aabbabbbabba].isHot){s=s.concat('<div class="hot"></div></div>')}else{s=s.concat('</div>')}$('.card_list').append(s)}aabbabahbab++}function imgRoll(click_index){if(aabbabagbab==0)return;if(click_index+aabbabbbabba*2>aabbabahbab){imgAdd()}if(aabbabbabba){aabbabbabba=false;if(aabbabagbab-click_index==1){aabbaababba--;aabbabagbab--;if(aabbaababba<0){aabbaababba=aabbabbbabba-1}$('.bg_list').children().eq(aabbaababba).addClass("current").siblings().removeClass("current");$('.bg_list').children().eq(aabbaababba-1).addClass("out").siblings().removeClass("out");$('.card_list').children().eq(aabbabagbab).addClass("out");$('.card_list').children().eq(aabbabagbab).css({"transform":"translate3d("+2*-(aabbabagbab)+"rem, 0rem, 0rem) scale(1.5)","opacity":"0","z-index":"1"});$('.card_list').children().eq(aabbabagbab+1).removeClass("out");$('.card_list .card:gt('+aabbabagbab+')').css({"transform":"translate3d("+2*-(aabbabagbab+1)+"rem, 0rem, 0rem) scale(1)","opacity":"1","z-index":"1"})}if(aabbabagbab-click_index<=-1){aabbaababba=click_index%aabbabbbabba;aabbabagbab=click_index;if(aabbaababba>=aabbabbbabba)aabbaababba=0;$('.bg_list').children().eq(aabbaababba).addClass("current").siblings().removeClass("current");$('.bg_list').children().eq(aabbaababba-1).addClass("out").siblings().removeClass("out");let e=click_index;$('.card_list .card:lt('+e+')').addClass("out");$('.card_list .card:lt('+e+')').css({"transform":"translate3d(0rem, 0rem, 0rem) scale(1.5)","opacity":"0","z-index":"1"});$('.card_list').children().eq(e).addClass("out");$('.card_list').children().eq(e).css({"transform":"translate3d("+2*-(e)+"rem, 0rem, 0rem) scale(1.5)","opacity":"0","z-index":"1"});$('.card_list .card:gt('+e+')').removeClass("out");$('.card_list .card:gt('+e+')').css({"transform":"translate3d("+2*-(e+1)+"rem, 0rem, 0rem) scale(1)","opacity":"1","z-index":"1"});aabbabagbab=click_index}$('.number_txt').text(settings.game_data[aabbaababba].date);$('.current_line').css("width",100/aabbabbbabba*(aabbaababba+1)+'%');setTimeout(function(){aabbabbabba=true},1200)}}function imgAdd(){for(var e=0;e<aabbabbbabba*2;e++){var s=`<div class="card"style="transform: translate3d(${2 * -(aabbabagbab + 1)}rem, 0rem, 0rem) scale(1); opacity: 1; z-index: 1;"data-id="${aabbabahbab}"><img class="card_bg"src="${settings.game_data[aabbabahbab%aabbabbbabba].small_bg}"><img class="logo"src="${settings.game_data[aabbabahbab%aabbabbbabba].icon}">`;if(settings.game_data[aabbabahbab%aabbabbbabba].isHot){s=s.concat('<div class="hot"></div></div>')}else{s=s.concat('</div>')}$('.card_list').append(s);aabbabahbab++}}!function(){$('.number_txt').text(settings.game_data[aabbaababba].date);imgAdd();$(document).on('mousewheel DOMMouseScroll',function(e){var delta=(e.originalEvent.wheelDelta&&(e.originalEvent.wheelDelta>0?1:-1))||(e.originalEvent.detail&&(e.originalEvent.detail>0?-1:1));if(delta>0){imgRoll(aabbabagbab-1)}else if(delta<0){imgRoll(aabbabagbab+1)}});$('.line_mc').on('click','.left_button',function(){imgRoll(aabbabagbab-1)});$('.line_mc').on('click','.right_button',function(){imgRoll(aabbabagbab+1)});$(document).on("click",".link_button",function(){var e=$(this).attr("data-href");window.location.href=e});$('.card_list').on('click','.card',function(){var e=parseInt($(this).attr("data-id"));aabbaababba=e%aabbabbbabba+1;imgRoll(e)});!function(){let PAGESIZE={width:750,height:1650};var e;function s(){var t=PAGESIZE.width,a=(PAGESIZE.height,$(window).width());$(window).height();$("html").css({"font-size":a/t*100+"px"}),e=a/t}s();var a=$(".card_list .card[data-id="+(aabbabagbab+1)+"]").offset().left,s=$(".card_list .card[data-id="+(aabbabagbab+1)+"]").offset().top,i=document.createElement("style");console.log(a);i.type="text/css";try{i.appendChild(document.createTextNode(".stage1 .old_bg{clip: rect("+s+"px,"+(a+188*e)+"px,"+(s+280*e)+"px,"+a+"px); -webkit-transform: scale(1); opacity: 0; -webkit-transition: clip 1s, -webkit-transform 1s, opacity 1s; }"))}catch(t){i.styleSheet.cssText=".stage1 .old_bg{clip: rect("+s+"px,"+(a+188*e)+"px,"+(s+280*e)+"px,"+a+"px); -webkit-transform: scale(1); opacity: 0; -webkit-transition: clip 1s, -webkit-transform 1s, opacity 1s; }"}document.getElementsByTagName("head")[0].appendChild(i)}()}()}})(jQuery);